(this.webpackJsonpponyfun=this.webpackJsonpponyfun||[]).push([[0],{18:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),r=n(10),s=n.n(r),i=(n(9),n(2)),o=n.n(i),u=n(7),l=n(3),h=n(4),d=n(6),p=n(5),j=n(11),f=n(0),b=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state=t.currentContact,a}return Object(h.a)(n,[{key:"componentWillReceiveProps",value:function(t){this.setState(t.currentContact)}},{key:"handleInputChange",value:function(t){this.setState(Object(j.a)({},t.target.name,t.target.value))}},{key:"newContact",value:function(t){t.preventDefault(),this.props.newContact()}},{key:"deleteContact",value:function(t){t.preventDefault(),this.props.deleteContact(this.props.currentContact)}},{key:"addOrUpdateContact",value:function(t){t.preventDefault(),this.props.addOrUpdateContact(this.state)}},{key:"render",value:function(){var t=this;return Object(f.jsxs)("div",{className:"detail",children:[Object(f.jsx)("div",{children:Object(f.jsx)("h3",{children:this.props.currentContact.id?"Kontakt Details":"Neuen Kontakt anlegen"})}),Object(f.jsxs)("form",{onSubmit:function(e){return t.addOrUpdateContact(e)},children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"Name",children:"Name:"}),Object(f.jsx)("input",{type:"text",id:"Name",name:"Name",value:this.state.Name,onChange:function(e){return t.handleInputChange(e)},ref:function(t){return t&&""===t.value&&t.focus()}})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"Phone",children:"Tel.Nr.:"}),Object(f.jsx)("input",{type:"text",id:"Phone",name:"Phone",value:this.state.Phone,onChange:function(e){return t.handleInputChange(e)}})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"Email",children:"Email:"}),Object(f.jsx)("input",{type:"text",id:"Email",name:"Email",value:this.state.Email,onChange:function(e){return t.handleInputChange(e)}})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"Adresse",children:"Adresse:"}),Object(f.jsx)("input",{type:"text",id:"Adresse",name:"Adresse",value:this.state.Adresse,onChange:function(e){return t.handleInputChange(e)}})]}),Object(f.jsx)("br",{}),Object(f.jsxs)("div",{className:"action",children:[Object(f.jsx)("input",{type:"submit",className:"btn",value:this.props.currentContact.id?"\xc4ndern":"Speichern"}),this.props.currentContact.id&&Object(f.jsx)("button",{href:"#",className:"btn",onClick:function(e){return t.deleteContact(e)},children:"L\xf6schen"})]})]})]})}}]),n}(c.a.Component),m=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).emptyContact={id:"",Name:"",Email:"",Phone:"",Adresse:""},a.state={contacts:[],currentContact:a.emptyContact},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.getContacts()}},{key:"selectContact",value:function(t){this.setState({currentContact:this.state.contacts.filter((function(e){return e.id===t}))[0]})}},{key:"newContact",value:function(){this.setState({currentContact:this.emptyContact})}},{key:"getContacts",value:function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.props.config.Url,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){return t.json()}));case 2:e=t.sent,this.setState({currentContact:this.emptyContact,contacts:e});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"addOrUpdateContact",value:function(){var t=Object(u.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=""===e.id?"POST":"PUT",t.next=3,fetch(this.props.config.Url+"/"+e.id,{method:n,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 3:this.getContacts();case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteContact",value:function(){var t=Object(u.a)(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.props.config.Url+"/"+e.id,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 2:this.getContacts();case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(f.jsxs)("div",{children:[Object(f.jsx)("header",{children:Object(f.jsx)("h1",{children:"Kontaktbuch!!!"})}),Object(f.jsxs)("main",{children:[Object(f.jsxs)("div",{className:"list",children:[this.state.contacts.length?"":"Keine Eintr\xe4ge gefunden.",Object(f.jsxs)("ul",{children:[this.state.contacts.map((function(e){return Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"#",onClick:function(){return t.selectContact(e.id)},className:t.state.currentContact.id===e.id?"selected":"",children:Object(f.jsx)("span",{children:e.Name})})},e.id)})),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"#",className:"btn",onClick:function(e){return t.newContact(e)},children:Object(f.jsx)("b",{children:"+ Neuen Kontakt anlegen"})})})]})]}),Object(f.jsx)(b,{currentContact:this.state.currentContact,newContact:function(){return t.newContact()},addOrUpdateContact:function(e){return t.addOrUpdateContact(e)},deleteContact:function(e){return t.deleteContact(e)}})]})]})}}]),n}(c.a.Component);s.a.render(Object(f.jsx)(m,{config:{Url:"http://localhost:3000/contacts"}}),document.getElementById("root"))},9:function(t,e,n){}},[[18,1,2]]]);
//# sourceMappingURL=main.386953fe.chunk.js.map
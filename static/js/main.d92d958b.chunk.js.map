{"version":3,"sources":["PonyDetails.js","PonyList.js","index.js"],"names":["PonyDetails","props","state","currentContact","errors","name","note","nextProps","this","setState","e","target","value","preventDefault","newContact","window","confirm","deleteContact","close","fields","formIsValid","length","handleValidation","outorin","position","addOrUpdateContact","onClose","isOpen","className","uid","onClick","icon","faTimes","color","transform","onSubmit","htmlFor","type","id","onChange","handleInputChange","style","defaultChecked","status","href","faTrashAlt","faCheckCircle","React","Component","PonyList","sm","emptyContact","img","contacts","isModalOpen","filter","sortby","getContacts","clearTimeout","intervalID","c","a","b","localeCompare","x","console","log","classList","contains","remove","array","index","indexOf","splice","add","concat","fetch","config","Url","method","headers","then","response","json","Json","Items","setTimeout","bind","updatedContact","body","JSON","stringify","contact","faPlusCircle","data-param","changeSort","faSort","includes","toString","sort","sortinga","map","selectContact","faEdit","closeModal","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d92d958b.chunk.js","sourcesContent":["import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCheckCircle, faTimes, faTrashAlt } from '@fortawesome/free-solid-svg-icons'\r\n\r\nclass PonyDetails extends React.Component {\r\n    \r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        props: props.currentContact,\r\n        errors: {\r\n          name: \"\",\r\n          note: \"\"\r\n        }\r\n      }\r\n    }\r\n    \r\n    componentWillReceiveProps(nextProps) {\r\n      this.setState(nextProps.currentContact);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps) {\r\n      return true;\r\n    }\r\n\r\n    \r\n    handleInputChange(e) {\r\n      this.setState({\r\n        [e.target.name]: e.target.value\r\n      });\r\n    }\r\n    \r\n    newContact(e) {\r\n      e.preventDefault();\r\n      this.props.newContact();\r\n    }\r\n    \r\n    deleteContact(e) {\r\n      e.preventDefault();\r\n      if(window.confirm(this.props.currentContact.name +\" wirklich löschen?\")){\r\n        this.props.deleteContact(this.props.currentContact);\r\n        this.close(e);\r\n      }\r\n    }\r\n\r\n\r\n    handleValidation(){\r\n      let fields = this.state;\r\n      let errors = {};\r\n      let formIsValid = true;\r\n\r\n      //Name\r\n      if(!fields[\"name\"]){\r\n         formIsValid = false;\r\n         errors[\"name\"] = \"Bitte ausfüllen!\";\r\n      }\r\n\r\n \r\n      //Email\r\n      if(fields[\"note\"].length > 30){\r\n         formIsValid = false;\r\n         errors[\"note\"] = \"zu viele Zeichen!\";\r\n      }\r\n\r\n\r\n        this.setState({errors: errors});\r\n        return formIsValid;\r\n    }\r\n\r\n\r\n    \r\n    addOrUpdateContact(e) {\r\n      e.preventDefault();\r\n      if(this.handleValidation()){\r\n        if(!this.state.outorin)\r\n          this.state.outorin = \"0\";\r\n        if(!this.state.position)\r\n          this.state.position = \"EG\";\r\n        this.props.addOrUpdateContact(this.state);\r\n        this.close(e);\r\n      }\r\n    }\r\n\r\n    close(e) {\r\n      e.preventDefault()\r\n\r\n      if (this.props.onClose) {\r\n        this.props.onClose()\r\n      }\r\n    }\r\n    \r\n    render() {\r\n      if (this.props.isOpen === false)\r\n        return null\r\n\r\n\r\n      return (<div>\r\n      <div className=\"detail\">\r\n        \r\n\r\n        <div className=\"header\">\r\n          <h4>{this.props.currentContact.uid ? 'Pferdedaten' : 'Neues Pferd anlegen'}</h4>\r\n          \r\n          <FontAwesomeIcon onClick={(e) => this.close(e)} className=\"close\" icon={ faTimes } color=\"grey\" transform=\"grow-6\"/>\r\n          \r\n        </div>\r\n\r\n        <form onSubmit={(e) => this.addOrUpdateContact(e)}>\r\n        \r\n          <div className=\"task-input\">\r\n            <label htmlFor=\"name\">Name:</label>\r\n            <input \r\n              type=\"text\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              value={this.state.name} \r\n              //disabled = {this.state.id}\r\n              onChange={(e) => this.handleInputChange(e)}\r\n              //ref={input => input && input.value === \"\" && input.focus()}\r\n            />\r\n            <span style={{color: \"red\"}}>{this.state.errors[\"name\"]}</span>\r\n          </div>         \r\n\r\n          <div className=\"select-wrapper\">\r\n            <label htmlFor=\"position\">Box Standort:</label>\r\n\r\n            <select id=\"position\" name=\"position\" value={this.state.position} onChange={(e) => this.handleInputChange(e)}>\r\n              <option value=\"EG\">EG</option>\r\n              <option value=\"1.Stock\">1.Stock</option>\r\n              <option value=\" Lisa Stall\">Lisa Stall</option>\r\n            </select>\r\n          </div>\r\n          <br/>\r\n          <br/>\r\n          <div className=\"picker\">\r\n            <fieldset>\r\n              <legend>Raus?</legend>\r\n\r\n                <label>Ja:</label>\r\n                <input className=\"task-status\" name=\"outorin\" type=\"radio\" value=\"1\" defaultChecked={this.state.outorin === \"1\"} onChange={(e) => this.handleInputChange(e)}></input>\r\n                <label>Nein:</label>\r\n                <input className=\"task-status\" name=\"outorin\" type=\"radio\" value=\"2\" defaultChecked={this.state.outorin === \"2\"} onChange={(e) => this.handleInputChange(e)}></input>\r\n                <label>Egal:</label>\r\n                <input className=\"task-status\" name=\"outorin\" type=\"radio\" value=\"0\" defaultChecked={this.state.outorin === \"0\"} onChange={(e) => this.handleInputChange(e)}></input>\r\n            </fieldset>            \r\n          </div>\r\n          \r\n\r\n          <div className=\"task-input\">\r\n            <label htmlFor=\"note\">Notiz:</label>\r\n            <input \r\n              type=\"text\"\r\n              id=\"note\"\r\n              name=\"note\"\r\n              value={this.state.note} \r\n              onChange={(e) => this.handleInputChange(e)} \r\n            />\r\n            <span style={{color: \"red\"}}>{this.state.errors[\"note\"]}</span>\r\n          </div>\r\n          <div className=\"task-count\">\r\n            <label htmlFor=\"status\">{this.state.status}</label>            \r\n          </div>\r\n\r\n          <br/>\r\n          <div className=\"action picker\">\r\n            { this.props.currentContact.uid &&\r\n              <button href=\"#\" \r\n                className=\"btn delete\" \r\n                onClick={(e) => this.deleteContact(e)}\r\n              >\r\n                <FontAwesomeIcon icon={ faTrashAlt } transform=\"grow-4\"/>\r\n          \r\n                &nbsp;Löschen\r\n                \r\n                </button>\r\n            }\r\n            <button type=\"submit\" className=\"btn right save\">\r\n            <FontAwesomeIcon icon={ faCheckCircle } transform=\"grow-4\"/>\r\n            &nbsp;Speichern\r\n              </button>\r\n          </div>\r\n          \r\n        </form>\r\n      </div>\r\n      <div className=\"bg\" onClick={e => this.close(e)}/>\r\n      </div>\r\n          )\r\n    }\r\n  }\r\n\r\n  export default PonyDetails;","import React from 'react';\nimport './App.scss';\nimport PonyDetails from './PonyDetails';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEdit, faPlusCircle, faSort } from '@fortawesome/free-solid-svg-icons'\n\n\nclass PonyList extends React.Component {\n  intervalID;\n  constructor(props) {\n    super(props);\n    this.emptyContact = {\n      uid: '',\n      name: '',\n      position: '',\n      outorin: 0,\n      status: '',\n      note: '',\n      img: ''\n\n    };\n    this.state = {\n      contacts: [],\n      currentContact: this.emptyContact,\n      isModalOpen: false,\n      filter: [\"0\", \"1\", \"2\"],\n      sortby: \"outorin\",\n    }\n  }\n\n  componentDidMount() {\n    this.getContacts();\n  }\n\n  componentWillUnmount() {\n    \n    clearTimeout(this.intervalID);\n  }\n\n  selectContact(uid) {   \n    \n    this.setState({\n      currentContact: this.state.contacts.filter(c => c.uid === uid)[0],\n      isModalOpen: true\n    });\n\n  }\n\n  openModal() {\n    clearTimeout(this.intervalID);\n    this.setState({ isModalOpen: true })\n  }\n\n  closeModal() {\n    this.setState({ isModalOpen: false })\n    this.getContacts();\n  }\n\n  newContact() {\n    this.setState({\n      currentContact: this.emptyContact,\n      isModalOpen: true\n    });\n    \n  }\n  \n  sm = 1; //sortMultiplyer\n\n  sortinga(a , b){    \n    if(this.state.sortby === \"outorin\"){\n      if(a.outorin > b.outorin)\n      return 1 * this.sm;\n      else\n      return -1 * this.sm;\n    }\n    if(this.state.sortby === \"position\"){\n      if(a.position.localeCompare(b.position) < 1)\n      return 1 *this.sm;\n      else\n      return -1 * this.sm;\n    }\n  }\n\n  changeSort(e, x){\n    if(this.state.sortby === x){\n      this.sm = this.sm * -1;\n    }    \n      this.setState({        \n        sortby: x\n      }); \n  }\n\n\n  filter(e) {\n    console.log(e.target.value);\n    if(e.target.classList.contains('is-active')){\n      e.target.classList.remove('is-active');\n        var array = this.state.filter;\n        var index = array.indexOf(e.target.value);\n        if(index !== -1){\n          array.splice(index, 1);\n          this.setState({\n            filter : array\n          });\n        }\n    }else{\n      e.target.classList.add('is-active');\n      this.setState({\n        filter : this.state.filter.concat(e.target.value)\n      });\n    }\n  }\n\n\n\n  async getContacts() {    \n\n    if(!this.state.isModalOpen){\n      let Json = await fetch(this.props.config.Url, {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n        },\n      }).then(response => response.json());\n      console.log(Json.Items);\n      this.setState({\n        //currentContact: this.emptyContact,\n        contacts: Json.Items,\n      });\n    }\n    this.intervalID = setTimeout(this.getContacts.bind(this), 10000);\n      \n          \n  }\n\n  async addOrUpdateContact(updatedContact) {\n    let method;\n    if (updatedContact.uid === '') {\n      method = 'POST';\n    } else {\n      method = 'PUT';\n    }\n    await fetch(this.props.config.Url, {\n      method: method,\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(updatedContact)\n    });\n    this.getContacts();\n  }\n\n  async deleteContact(contact) {\n    await fetch(this.props.config.Url, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(contact)\n    });\n    this.getContacts();\n  }\n\n  render() {\n\n    return <div>\n    <div className=\"app\">\n\n          <div className=\"header\">\n            <h1 className=\"task-header-title\">Koppelspaß </h1> \n            <FontAwesomeIcon onClick={(e) => this.newContact(e)} className=\"add\" icon={ faPlusCircle } color=\"MediumAquaMarine\" transform=\"grow-15\"/>\n          </div>\n            <div className=\"task-tools\">\n              \n              <div>\n                \n                <button className=\"task-filter is-active\" data-param=\"outorin\" value=\"1\" onClick={(e) => this.filter(e)}>\n                  Raus ({this.state.contacts.filter(c => c.outorin === \"1\").length})\n                </button>\n                <button className=\"task-filter is-active\" data-param=\"outorin\" value=\"2\" onClick={(e) => this.filter(e)}>\n                  Nicht raus ({this.state.contacts.filter(c => c.outorin === \"2\").length})\n                </button>\n                <button className=\"task-filter is-active\" value=\"0\" onClick={(e) => this.filter(e)}>\n                  Egal ({this.state.contacts.filter(c => c.outorin !== \"1\" && c.outorin !== \"2\").length})\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"sort-wrapper\">\n              <div className=\"task-sorter left\" onClick={(e) => this.changeSort(e, \"outorin\")}>\n                \n                  <p className=\"task-sort\">\n                      <FontAwesomeIcon icon={ faSort } transform=\"grow-5\" \n                      />\n                  </p>\n                \n              </div>\n              <div className=\"task-sorter right\" onClick={(e) => this.changeSort(e, \"position\")}>\n                  <p className=\"task-sort\">\n                      <FontAwesomeIcon icon={ faSort } transform=\"grow-5\" \n                      />\n                  </p>\n              </div>\n            </div>\n\n          <div className=\"task-list\">            \n          \n              {this.state.contacts.filter(c =>  this.state.filter.includes(c.outorin.toString()))\n              .sort((a , b) => this.sortinga(a , b))\n              .map(contact =>\n                <div className={contact.outorin === \"1\" ? \"task-item wantsout\" : contact.outorin === \"2\" ? \"task-item wantsnotout\" : \"task-item\"} key={contact.uid}>\n                  <label className={contact.outorin === \"1\" ? \"pony-wantout\" : contact.outorin === \"2\" ? \"pony-wantnotout\" : \"pony-dontcare\"}></label>\n                  <div>\n                  \n                    <div>\n                      <label\n                        className=\"task-name\">\n                        <span>{contact.name}</span>\n                      </label>\n                    </div>\n                    <div className=\"status\">\n                    <label >\n                      <span>{contact.note}&emsp;</span>\n                    </label>\n                    </div>    \n                                   \n                  </div>\n                  <div className=\"right\">\n                    <div>\n                      <label >\n                        <span>{contact.position}</span> \n                      </label>\n                      \n                    </div>   \n                    <div>\n                    <label  onClick={() => this.selectContact(contact.uid)}>\n                        <span className=\"edit\">\n                          <FontAwesomeIcon icon={faEdit} transform=\"shrink-3\"/>\n                        </span> \n                    </label> \n                    </div>\n                  </div>\n                </div>\n                    \n              )}\n          </div>\n          </div>\n          <PonyDetails\n            isOpen={this.state.isModalOpen} \n            onClose={() => this.closeModal()}\n            currentContact={this.state.currentContact}\n            newContact={() => this.newContact()}\n            addOrUpdateContact={(contact) => this.addOrUpdateContact(contact)}\n            deleteContact={(contact) => this.deleteContact(contact)} />\n        \n      </div>\n  }\n}\n\nexport default PonyList;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.scss';\nimport PonyList from './PonyList';\n\nconst conf = {\n    Url: 'https://ju6w4ca8tc.execute-api.eu-central-1.amazonaws.com/default/myHorseFun'\n  };\n\nReactDOM.render(<PonyList config={conf} />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}